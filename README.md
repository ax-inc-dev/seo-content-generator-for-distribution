# SEO Content Generator

キーワードを入力するだけで、SEOに最適化された記事を自動で作成できるツールです。

## はじめに

このドキュメントは、**自分のパソコンでこのツールを動かす手順**を説明しています。

| やりたいこと | 読むドキュメント |
|------------|----------------|
| まず自分のPCで試してみたい | このREADME（続きを読んでください） |
| インターネット上で公開したい | [デプロイマニュアル](docs/DEPLOY_MANUAL.md) |
| 自社の情報を反映させたい | [カスタマイズガイド](docs/CUSTOMIZATION_GUIDE.md) |

---

## このツールでできること

- キーワードから記事の構成（目次）を自動作成
- 構成をもとに記事を自動執筆
- 記事の校正・ファクトチェック
- 記事に合った画像をAIで自動生成
- 完成した記事をWordPressに自動投稿
- Googleスプレッドシートと連携して記事を一括作成

---

## パソコンで動かしてみる（ローカル実行）

このツールを自分のパソコンで動かす手順です。

### 事前に用意するもの

| 必要なもの | 説明 | 入手先 |
|-----------|------|--------|
| Node.js | このツールを動かすために必要なソフト | [公式サイト](https://nodejs.org/)からダウンロード（v18以上） |
| Gemini APIキー | AIが記事を書くために必要 | [Google AI Studio](https://aistudio.google.com/)で無料取得 |
| Custom Search APIキー | 競合サイトを調べるために必要 | [Google Cloud Console](https://console.cloud.google.com/)で取得 |
| カスタム検索エンジンID | 上記と一緒に使う | [Programmable Search Engine](https://programmablesearchengine.google.com/)で作成 |

---

### セットアップ手順

#### ステップ1: 必要なファイルをダウンロード

1. このプロジェクトのフォルダを開きます

2. **コマンドプロンプト（Windows）またはターミナル（Mac）を開きます**
   - **Windows**: フォルダのアドレスバーに `cmd` と入力してEnter
   - **Mac**: フォルダを右クリック →「フォルダに新規ターミナル」

3. 以下を入力してEnterを押します：

```bash
npm install
```

これで必要なファイルが自動でダウンロードされます。数分かかることがあります。

#### ステップ2: APIキーを設定する

1. プロジェクトフォルダ内の `.env.example` というファイルをコピーして `.env` という名前に変更します

2. `.env` ファイルをメモ帳などで開いて、以下の部分を自分のAPIキーに書き換えます：

```env
# Gemini API（Google AI Studioで取得したキー）
GEMINI_API_KEY=ここにあなたのGemini APIキーを貼り付け
VITE_GEMINI_API_KEY=ここにも同じキーを貼り付け

# Google API（複数の機能で使用）
# ※ このキーは以下の2つの機能で共通使用されます：
#    1. Custom Search API（競合調査）
#    2. Google Drive API（自社実績データ取得）
# → Google Cloud Consoleで両方のAPIを有効化してください
GOOGLE_API_KEY=ここにGoogle APIキーを貼り付け
VITE_GOOGLE_API_KEY=ここにも同じキーを貼り付け
GOOGLE_SEARCH_ENGINE_ID=ここに検索エンジンIDを貼り付け
VITE_GOOGLE_SEARCH_ENGINE_ID=ここにも同じIDを貼り付け
```

3. ファイルを保存して閉じます

#### ステップ3: ツールを起動する

**記事作成だけなら → 2つのウィンドウを開く**

**画像生成もするなら → 3つのウィンドウを開く**

> **ヒント**: 各ウィンドウは閉じずに開いたままにしておいてください。すべてのウィンドウが起動している必要があります。

---

**ウィンドウ1: メインアプリ**

プロジェクトフォルダでコマンドプロンプトを開いて（ステップ1と同じ方法）：

```bash
npm run dev
```

→ `http://localhost:5176/` で起動します

---

**ウィンドウ2: バックエンドサーバー（競合調査）**

**新しい**コマンドプロンプトを開いて（ウィンドウ1は閉じない）：

```bash
cd server
node scraping-server-full.js
```

→ `http://localhost:3001/` で起動します

---

**ウィンドウ3: 画像生成エージェント（フル自動モードで使う場合）**

さらに**新しい**コマンドプロンプトを開いて（ウィンドウ1・2は閉じない）：

```bash
cd ai-article-imager-for-wordpress
npm install
npm run dev
```

→ `http://localhost:5177/` で起動します

#### ステップ4: 動作確認

ブラウザ（Chrome等）を開いて、以下のURLにアクセスしてください。

> **「localhost」とは？** 自分のパソコン内で動いているサーバーを指します。インターネットには公開されていません。

| 確認項目 | URL | 正常なら |
|---------|-----|---------|
| メインアプリ | http://localhost:5176/ | ツールの画面が表示される |
| バックエンドサーバー（競合調査） | http://localhost:3001/api/health | `{"status":"ok"...}` と表示される |
| 画像生成（使う場合のみ） | http://localhost:5177/ | 画像生成の画面が表示される |

---

## よくあるトラブルと解決方法

### 「Puppeteer not available」というエラーが出る

**原因**: バックエンドサーバー（競合調査）が起動していません

**解決方法**: 別のコマンドプロンプトで以下を実行してください

```bash
cd server
node scraping-server-full.js
```

### バックエンドサーバー（競合調査）が起動しない

**解決方法**: `npm run server` ではなく、直接起動してください

```bash
cd server
node scraping-server-full.js
```

### APIキーのエラーが出る

**原因**: `.env` ファイルにAPIキーが正しく設定されていない可能性があります

**解決方法**:
1. `.env` ファイルを開く
2. APIキーが正しくコピーされているか確認
3. キーの前後に余計なスペースが入っていないか確認
4. ファイルを保存してツールを再起動

---

## 困ったときは

- [デプロイマニュアル](docs/DEPLOY_MANUAL.md) - インターネット上で公開する方法
- [カスタマイズガイド](docs/CUSTOMIZATION_GUIDE.md) - 自社の情報を反映させる方法
